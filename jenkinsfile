
pipeline {
agent any
stages {
stage('source code checkout') {
steps {
git 'https://github.com/Harika444/musicsite.git'
}
}

stage('Build + SonarQube analysis') {
steps{


 
powershell label: '', script: '''powershell label: '', script: '''Remove-Item c:/webpackage -Recurse -ErrorAction Ignore

C:/MSBuild/MSBuild/15.0/Bin/MSBuild.exe "C:/Program Files (x86)/Jenkins/workspace/musicsite/MusicSite/MusicSite.csproj" 
DeployOnBuild=true 
WebPublishMethod=Package 
PackageAsSingleFile=true 
SkipInvalidConfigurations=true 
PackageLocation="c:/webpackage" 
DeployIisAppPath="Default Web Site"

Copy-Item  -Path "C:/webpackage/MusicSite.zip" -Destination "C:/Program Files (x86)/Jenkins/workspace/musicsite/" -Recurse -force'''


}
}

}
}

